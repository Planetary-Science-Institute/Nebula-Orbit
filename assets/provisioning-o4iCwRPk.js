var nt=e=>{throw TypeError(e)};var Ie=(e,r,t)=>r.has(e)||nt("Cannot "+t);var E=(e,r,t)=>(Ie(e,r,"read from private field"),t?t.call(e):r.get(e)),fe=(e,r,t)=>r.has(e)?nt("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,t),ye=(e,r,t,i)=>(Ie(e,r,"write to private field"),i?i.call(e,t):r.set(e,t),t),he=(e,r,t)=>(Ie(e,r,"access private method"),t);import{S as zt,s as Jt,h as ot,g as Qt,n as At,u as Yt,r as Y,a as Xt,b as Zt,R as J,j as k,P as Gt,c as wt,d as er,e as tr,B as rr,o as sr,f as Be}from"./index-DVynMCWE.js";var oe,le,I,ee,te,Ee,$e,Ft,ir=(Ft=class extends zt{constructor(r,t){super();fe(this,te);fe(this,oe);fe(this,le);fe(this,I);fe(this,ee);ye(this,oe,r),this.setOptions(t),this.bindMethods(),he(this,te,Ee).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const t=this.options;this.options=E(this,oe).defaultMutationOptions(r),Jt(this.options,t)||E(this,oe).getMutationCache().notify({type:"observerOptionsUpdated",mutation:E(this,I),observer:this}),t!=null&&t.mutationKey&&this.options.mutationKey&&ot(t.mutationKey)!==ot(this.options.mutationKey)?this.reset():((i=E(this,I))==null?void 0:i.state.status)==="pending"&&E(this,I).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=E(this,I))==null||r.removeObserver(this)}onMutationUpdate(r){he(this,te,Ee).call(this),he(this,te,$e).call(this,r)}getCurrentResult(){return E(this,le)}reset(){var r;(r=E(this,I))==null||r.removeObserver(this),ye(this,I,void 0),he(this,te,Ee).call(this),he(this,te,$e).call(this)}mutate(r,t){var i;return ye(this,ee,t),(i=E(this,I))==null||i.removeObserver(this),ye(this,I,E(this,oe).getMutationCache().build(E(this,oe),this.options)),E(this,I).addObserver(this),E(this,I).execute(r)}},oe=new WeakMap,le=new WeakMap,I=new WeakMap,ee=new WeakMap,te=new WeakSet,Ee=function(){var t;const r=((t=E(this,I))==null?void 0:t.state)??Qt();ye(this,le,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},$e=function(r){At.batch(()=>{var t,i,o,n,u,f,A,O;if(E(this,ee)&&this.hasListeners()){const v=E(this,le).variables,w=E(this,le).context;(r==null?void 0:r.type)==="success"?((i=(t=E(this,ee)).onSuccess)==null||i.call(t,r.data,v,w),(n=(o=E(this,ee)).onSettled)==null||n.call(o,r.data,null,v,w)):(r==null?void 0:r.type)==="error"&&((f=(u=E(this,ee)).onError)==null||f.call(u,r.error,v,w),(O=(A=E(this,ee)).onSettled)==null||O.call(A,void 0,r.error,v,w))}this.listeners.forEach(v=>{v(E(this,le))})})},Ft);function ar(e,r){const t=Yt(),[i]=Y.useState(()=>new ir(t,e));Y.useEffect(()=>{i.setOptions(e)},[i,e]);const o=Y.useSyncExternalStore(Y.useCallback(u=>i.subscribe(At.batchCalls(u)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),n=Y.useCallback((u,f)=>{i.mutate(u,f).catch(Xt)},[i]);if(o.error&&Zt(i.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:n,mutateAsync:o.mutate}}var Fe=e=>e.type==="checkbox",de=e=>e instanceof Date,P=e=>e==null;const St=e=>typeof e=="object";var p=e=>!P(e)&&!Array.isArray(e)&&St(e)&&!de(e),nr=e=>p(e)&&e.target?Fe(e.target)?e.target.checked:e.target.value:e,or=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,lr=(e,r)=>e.has(or(r)),ur=e=>{const r=e.constructor&&e.constructor.prototype;return p(r)&&r.hasOwnProperty("isPrototypeOf")},Ke=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function T(e){let r;const t=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(Ke&&(e instanceof Blob||i))&&(t||p(e)))if(r=t?[]:{},!t&&!ur(e))r=e;else for(const o in e)e.hasOwnProperty(o)&&(r[o]=T(e[o]));else return e;return r}var Re=e=>Array.isArray(e)?e.filter(Boolean):[],N=e=>e===void 0,h=(e,r,t)=>{if(!r||!p(e))return t;const i=Re(r.split(/[,[\].]+?/)).reduce((o,n)=>P(o)?o:o[n],e);return N(i)||i===e?N(e[r])?t:e[r]:i},Q=e=>typeof e=="boolean",He=e=>/^\w*$/.test(e),Et=e=>Re(e.replace(/["|']|\]/g,"").split(/\.|\[/)),F=(e,r,t)=>{let i=-1;const o=He(r)?[r]:Et(r),n=o.length,u=n-1;for(;++i<n;){const f=o[i];let A=t;if(i!==u){const O=e[f];A=p(O)||Array.isArray(O)?O:isNaN(+o[i+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;e[f]=A,e=e[f]}};const lt={BLUR:"blur",FOCUS_OUT:"focusout"},$={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},G={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};J.createContext(null);var dr=(e,r,t,i=!0)=>{const o={defaultValues:r._defaultValues};for(const n in e)Object.defineProperty(o,n,{get:()=>{const u=n;return r._proxyFormState[u]!==$.all&&(r._proxyFormState[u]=!i||$.all),e[u]}});return o};const cr=typeof window<"u"?Y.useLayoutEffect:Y.useEffect;var X=e=>typeof e=="string",fr=(e,r,t,i,o)=>X(e)?(i&&r.watch.add(e),h(t,e,o)):Array.isArray(e)?e.map(n=>(i&&r.watch.add(n),h(t,n))):(i&&(r.watchAll=!0),t),Dt=(e,r,t,i,o)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:o||!0}}:{},_e=e=>Array.isArray(e)?e:[e],ut=()=>{let e=[];return{get observers(){return e},next:o=>{for(const n of e)n.next&&n.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(n=>n!==o)}}),unsubscribe:()=>{e=[]}}},We=e=>P(e)||!St(e);function ne(e,r){if(We(e)||We(r))return e===r;if(de(e)&&de(r))return e.getTime()===r.getTime();const t=Object.keys(e),i=Object.keys(r);if(t.length!==i.length)return!1;for(const o of t){const n=e[o];if(!i.includes(o))return!1;if(o!=="ref"){const u=r[o];if(de(n)&&de(u)||p(n)&&p(u)||Array.isArray(n)&&Array.isArray(u)?!ne(n,u):n!==u)return!1}}return!0}var j=e=>p(e)&&!Object.keys(e).length,ze=e=>e.type==="file",W=e=>typeof e=="function",Oe=e=>{if(!Ke)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},kt=e=>e.type==="select-multiple",Je=e=>e.type==="radio",yr=e=>Je(e)||Fe(e),qe=e=>Oe(e)&&e.isConnected;function hr(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=N(e)?i++:e[r[i++]];return e}function gr(e){for(const r in e)if(e.hasOwnProperty(r)&&!N(e[r]))return!1;return!0}function L(e,r){const t=Array.isArray(r)?r:He(r)?[r]:Et(r),i=t.length===1?e:hr(e,t),o=t.length-1,n=t[o];return i&&delete i[n],o!==0&&(p(i)&&j(i)||Array.isArray(i)&&gr(i))&&L(e,t.slice(0,-1)),e}var pt=e=>{for(const r in e)if(W(e[r]))return!0;return!1};function Ne(e,r={}){const t=Array.isArray(e);if(p(e)||t)for(const i in e)Array.isArray(e[i])||p(e[i])&&!pt(e[i])?(r[i]=Array.isArray(e[i])?[]:{},Ne(e[i],r[i])):P(e[i])||(r[i]=!0);return r}function Ot(e,r,t){const i=Array.isArray(e);if(p(e)||i)for(const o in e)Array.isArray(e[o])||p(e[o])&&!pt(e[o])?N(r)||We(t[o])?t[o]=Array.isArray(e[o])?Ne(e[o],[]):{...Ne(e[o])}:Ot(e[o],P(r)?{}:r[o],t[o]):t[o]=!ne(e[o],r[o]);return t}var be=(e,r)=>Ot(e,r,Ne(r));const dt={value:!1,isValid:!1},ct={value:!0,isValid:!0};var Nt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!N(e[0].attributes.value)?N(e[0].value)||e[0].value===""?ct:{value:e[0].value,isValid:!0}:ct:dt}return dt},Ct=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>N(e)?e:r?e===""?NaN:e&&+e:t&&X(e)?new Date(e):i?i(e):e;const ft={isValid:!1,value:null};var Rt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,ft):ft;function yt(e){const r=e.ref;return ze(r)?r.files:Je(r)?Rt(e.refs).value:kt(r)?[...r.selectedOptions].map(({value:t})=>t):Fe(r)?Nt(e.refs).value:Ct(N(r.value)?e.ref.value:r.value,e)}var mr=(e,r,t,i)=>{const o={};for(const n of e){const u=h(r,n);u&&F(o,n,u._f)}return{criteriaMode:t,names:[...e],fields:o,shouldUseNativeValidation:i}},Ce=e=>e instanceof RegExp,xe=e=>N(e)?e:Ce(e)?e.source:p(e)?Ce(e.value)?e.value.source:e.value:e,ht=e=>({isOnSubmit:!e||e===$.onSubmit,isOnBlur:e===$.onBlur,isOnChange:e===$.onChange,isOnAll:e===$.all,isOnTouch:e===$.onTouched});const gt="AsyncFunction";var vr=e=>!!e&&!!e.validate&&!!(W(e.validate)&&e.validate.constructor.name===gt||p(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===gt)),br=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),mt=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const Ve=(e,r,t,i)=>{for(const o of t||Object.keys(e)){const n=h(e,o);if(n){const{_f:u,...f}=n;if(u){if(u.refs&&u.refs[0]&&r(u.refs[0],o)&&!i)return!0;if(u.ref&&r(u.ref,u.name)&&!i)return!0;if(Ve(f,r))break}else if(p(f)&&Ve(f,r))break}}};function vt(e,r,t){const i=h(e,t);if(i||He(t))return{error:i,name:t};const o=t.split(".");for(;o.length;){const n=o.join("."),u=h(r,n),f=h(e,n);if(u&&!Array.isArray(u)&&t!==n)return{name:t};if(f&&f.type)return{name:n,error:f};o.pop()}return{name:t}}var xr=(e,r,t,i)=>{t(e);const{name:o,...n}=e;return j(n)||Object.keys(n).length>=Object.keys(r).length||Object.keys(n).find(u=>r[u]===(!i||$.all))},_r=(e,r,t)=>!e||!r||e===r||_e(e).some(i=>i&&(t?i===r:i.startsWith(r)||r.startsWith(i))),Vr=(e,r,t,i,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(r||e):(t?i.isOnBlur:o.isOnBlur)?!e:(t?i.isOnChange:o.isOnChange)?e:!0,Fr=(e,r)=>!Re(h(e,r)).length&&L(e,r),Ar=(e,r,t)=>{const i=_e(h(e,t));return F(i,"root",r[t]),F(e,t,i),e},De=e=>X(e);function bt(e,r,t="validate"){if(De(e)||Array.isArray(e)&&e.every(De)||Q(e)&&!e)return{type:t,message:De(e)?e:"",ref:r}}var ge=e=>p(e)&&!Ce(e)?e:{value:e,message:""},xt=async(e,r,t,i,o,n)=>{const{ref:u,refs:f,required:A,maxLength:O,minLength:v,min:w,max:m,pattern:me,validate:re,name:C,valueAsNumber:se,mount:Le}=e._f,x=h(t,C);if(!Le||r.has(C))return{};const Z=f?f[0]:u,K=b=>{o&&Z.reportValidity&&(Z.setCustomValidity(Q(b)?"":b||""),Z.reportValidity())},R={},Ae=Je(u),ie=Fe(u),Te=Ae||ie,q=(se||ze(u))&&N(u.value)&&N(x)||Oe(u)&&u.value===""||x===""||Array.isArray(x)&&!x.length,ue=Dt.bind(null,C,i,R),H=(b,V,D,M=G.maxLength,U=G.minLength)=>{const z=b?V:D;R[C]={type:b?M:U,message:z,ref:u,...ue(b?M:U,z)}};if(n?!Array.isArray(x)||!x.length:A&&(!Te&&(q||P(x))||Q(x)&&!x||ie&&!Nt(f).isValid||Ae&&!Rt(f).isValid)){const{value:b,message:V}=De(A)?{value:!!A,message:A}:ge(A);if(b&&(R[C]={type:G.required,message:V,ref:Z,...ue(G.required,V)},!i))return K(V),R}if(!q&&(!P(w)||!P(m))){let b,V;const D=ge(m),M=ge(w);if(!P(x)&&!isNaN(x)){const U=u.valueAsNumber||x&&+x;P(D.value)||(b=U>D.value),P(M.value)||(V=U<M.value)}else{const U=u.valueAsDate||new Date(x),z=we=>new Date(new Date().toDateString()+" "+we),ve=u.type=="time",ce=u.type=="week";X(D.value)&&x&&(b=ve?z(x)>z(D.value):ce?x>D.value:U>new Date(D.value)),X(M.value)&&x&&(V=ve?z(x)<z(M.value):ce?x<M.value:U<new Date(M.value))}if((b||V)&&(H(!!b,D.message,M.message,G.max,G.min),!i))return K(R[C].message),R}if((O||v)&&!q&&(X(x)||n&&Array.isArray(x))){const b=ge(O),V=ge(v),D=!P(b.value)&&x.length>+b.value,M=!P(V.value)&&x.length<+V.value;if((D||M)&&(H(D,b.message,V.message),!i))return K(R[C].message),R}if(me&&!q&&X(x)){const{value:b,message:V}=ge(me);if(Ce(b)&&!x.match(b)&&(R[C]={type:G.pattern,message:V,ref:u,...ue(G.pattern,V)},!i))return K(V),R}if(re){if(W(re)){const b=await re(x,t),V=bt(b,Z);if(V&&(R[C]={...V,...ue(G.validate,V.message)},!i))return K(V.message),R}else if(p(re)){let b={};for(const V in re){if(!j(b)&&!i)break;const D=bt(await re[V](x,t),Z,V);D&&(b={...D,...ue(V,D.message)},K(D.message),i&&(R[C]=b))}if(!j(b)&&(R[C]={ref:Z,...b},!i))return R}}return K(!0),R};const wr={mode:$.onSubmit,reValidateMode:$.onChange,shouldFocusError:!0};function Sr(e={}){let r={...wr,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:W(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1};const i={};let o=p(r.defaultValues)||p(r.values)?T(r.defaultValues||r.values)||{}:{},n=r.shouldUnregister?{}:T(o),u={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},A,O=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let w={...v};const m={array:ut(),state:ut()},me=r.criteriaMode===$.all,re=s=>a=>{clearTimeout(O),O=setTimeout(s,a)},C=async s=>{if(!r.disabled&&(v.isValid||w.isValid||s)){const a=r.resolver?j((await ie()).errors):await q(i,!0);a!==t.isValid&&m.state.next({isValid:a})}},se=(s,a)=>{!r.disabled&&(v.isValidating||v.validatingFields||w.isValidating||w.validatingFields)&&((s||Array.from(f.mount)).forEach(l=>{l&&(a?F(t.validatingFields,l,a):L(t.validatingFields,l))}),m.state.next({validatingFields:t.validatingFields,isValidating:!j(t.validatingFields)}))},Le=(s,a=[],l,y,c=!0,d=!0)=>{if(y&&l&&!r.disabled){if(u.action=!0,d&&Array.isArray(h(i,s))){const g=l(h(i,s),y.argA,y.argB);c&&F(i,s,g)}if(d&&Array.isArray(h(t.errors,s))){const g=l(h(t.errors,s),y.argA,y.argB);c&&F(t.errors,s,g),Fr(t.errors,s)}if((v.touchedFields||w.touchedFields)&&d&&Array.isArray(h(t.touchedFields,s))){const g=l(h(t.touchedFields,s),y.argA,y.argB);c&&F(t.touchedFields,s,g)}(v.dirtyFields||w.dirtyFields)&&(t.dirtyFields=be(o,n)),m.state.next({name:s,isDirty:H(s,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else F(n,s,a)},x=(s,a)=>{F(t.errors,s,a),m.state.next({errors:t.errors})},Z=s=>{t.errors=s,m.state.next({errors:t.errors,isValid:!1})},K=(s,a,l,y)=>{const c=h(i,s);if(c){const d=h(n,s,N(l)?h(o,s):l);N(d)||y&&y.defaultChecked||a?F(n,s,a?d:yt(c._f)):D(s,d),u.mount&&C()}},R=(s,a,l,y,c)=>{let d=!1,g=!1;const _={name:s};if(!r.disabled){if(!l||y){(v.isDirty||w.isDirty)&&(g=t.isDirty,t.isDirty=_.isDirty=H(),d=g!==_.isDirty);const S=ne(h(o,s),a);g=!!h(t.dirtyFields,s),S?L(t.dirtyFields,s):F(t.dirtyFields,s,!0),_.dirtyFields=t.dirtyFields,d=d||(v.dirtyFields||w.dirtyFields)&&g!==!S}if(l){const S=h(t.touchedFields,s);S||(F(t.touchedFields,s,l),_.touchedFields=t.touchedFields,d=d||(v.touchedFields||w.touchedFields)&&S!==l)}d&&c&&m.state.next(_)}return d?_:{}},Ae=(s,a,l,y)=>{const c=h(t.errors,s),d=(v.isValid||w.isValid)&&Q(a)&&t.isValid!==a;if(r.delayError&&l?(A=re(()=>x(s,l)),A(r.delayError)):(clearTimeout(O),A=null,l?F(t.errors,s,l):L(t.errors,s)),(l?!ne(c,l):c)||!j(y)||d){const g={...y,...d&&Q(a)?{isValid:a}:{},errors:t.errors,name:s};t={...t,...g},m.state.next(g)}},ie=async s=>{se(s,!0);const a=await r.resolver(n,r.context,mr(s||f.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return se(s),a},Te=async s=>{const{errors:a}=await ie(s);if(s)for(const l of s){const y=h(a,l);y?F(t.errors,l,y):L(t.errors,l)}else t.errors=a;return a},q=async(s,a,l={valid:!0})=>{for(const y in s){const c=s[y];if(c){const{_f:d,...g}=c;if(d){const _=f.array.has(d.name),S=c._f&&vr(c._f);S&&v.validatingFields&&se([y],!0);const B=await xt(c,f.disabled,n,me,r.shouldUseNativeValidation&&!a,_);if(S&&v.validatingFields&&se([y]),B[d.name]&&(l.valid=!1,a))break;!a&&(h(B,d.name)?_?Ar(t.errors,B,d.name):F(t.errors,d.name,B[d.name]):L(t.errors,d.name))}!j(g)&&await q(g,a,l)}}return l.valid},ue=()=>{for(const s of f.unMount){const a=h(i,s);a&&(a._f.refs?a._f.refs.every(l=>!qe(l)):!qe(a._f.ref))&&Me(s)}f.unMount=new Set},H=(s,a)=>!r.disabled&&(s&&a&&F(n,s,a),!ne(we(),o)),b=(s,a,l)=>fr(s,f,{...u.mount?n:N(a)?o:X(s)?{[s]:a}:a},l,a),V=s=>Re(h(u.mount?n:o,s,r.shouldUnregister?h(o,s,[]):[])),D=(s,a,l={})=>{const y=h(i,s);let c=a;if(y){const d=y._f;d&&(!d.disabled&&F(n,s,Ct(a,d)),c=Oe(d.ref)&&P(a)?"":a,kt(d.ref)?[...d.ref.options].forEach(g=>g.selected=c.includes(g.value)):d.refs?Fe(d.ref)?d.refs.forEach(g=>{(!g.defaultChecked||!g.disabled)&&(Array.isArray(c)?g.checked=!!c.find(_=>_===g.value):g.checked=c===g.value||!!c)}):d.refs.forEach(g=>g.checked=g.value===c):ze(d.ref)?d.ref.value="":(d.ref.value=c,d.ref.type||m.state.next({name:s,values:T(n)})))}(l.shouldDirty||l.shouldTouch)&&R(s,c,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ce(s)},M=(s,a,l)=>{for(const y in a){if(!a.hasOwnProperty(y))return;const c=a[y],d=`${s}.${y}`,g=h(i,d);(f.array.has(s)||p(c)||g&&!g._f)&&!de(c)?M(d,c,l):D(d,c,l)}},U=(s,a,l={})=>{const y=h(i,s),c=f.array.has(s),d=T(a);F(n,s,d),c?(m.array.next({name:s,values:T(n)}),(v.isDirty||v.dirtyFields||w.isDirty||w.dirtyFields)&&l.shouldDirty&&m.state.next({name:s,dirtyFields:be(o,n),isDirty:H(s,d)})):y&&!y._f&&!P(d)?M(s,d,l):D(s,d,l),mt(s,f)&&m.state.next({...t}),m.state.next({name:u.mount?s:void 0,values:T(n)})},z=async s=>{u.mount=!0;const a=s.target;let l=a.name,y=!0;const c=h(i,l),d=S=>{y=Number.isNaN(S)||de(S)&&isNaN(S.getTime())||ne(S,h(n,l,S))},g=ht(r.mode),_=ht(r.reValidateMode);if(c){let S,B;const Se=a.type?yt(c._f):nr(s),ae=s.type===lt.BLUR||s.type===lt.FOCUS_OUT,Wt=!br(c._f)&&!r.resolver&&!h(t.errors,l)&&!c._f.deps||Vr(ae,h(t.touchedFields,l),t.isSubmitted,_,g),Pe=mt(l,f,ae);F(n,l,Se),ae?(c._f.onBlur&&c._f.onBlur(s),A&&A(0)):c._f.onChange&&c._f.onChange(s);const Ue=R(l,Se,ae),Kt=!j(Ue)||Pe;if(!ae&&m.state.next({name:l,type:s.type,values:T(n)}),Wt)return(v.isValid||w.isValid)&&(r.mode==="onBlur"?ae&&C():ae||C()),Kt&&m.state.next({name:l,...Pe?{}:Ue});if(!ae&&Pe&&m.state.next({...t}),r.resolver){const{errors:it}=await ie([l]);if(d(Se),y){const Ht=vt(t.errors,i,l),at=vt(it,i,Ht.name||l);S=at.error,l=at.name,B=j(it)}}else se([l],!0),S=(await xt(c,f.disabled,n,me,r.shouldUseNativeValidation))[l],se([l]),d(Se),y&&(S?B=!1:(v.isValid||w.isValid)&&(B=await q(i,!0)));y&&(c._f.deps&&ce(c._f.deps),Ae(l,B,S,Ue))}},ve=(s,a)=>{if(h(t.errors,a)&&s.focus)return s.focus(),1},ce=async(s,a={})=>{let l,y;const c=_e(s);if(r.resolver){const d=await Te(N(s)?s:c);l=j(d),y=s?!c.some(g=>h(d,g)):l}else s?(y=(await Promise.all(c.map(async d=>{const g=h(i,d);return await q(g&&g._f?{[d]:g}:g)}))).every(Boolean),!(!y&&!t.isValid)&&C()):y=l=await q(i);return m.state.next({...!X(s)||(v.isValid||w.isValid)&&l!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:l}:{},errors:t.errors}),a.shouldFocus&&!y&&Ve(i,ve,s?c:f.mount),y},we=s=>{const a={...u.mount?n:o};return N(s)?a:X(s)?h(a,s):s.map(l=>h(a,l))},Qe=(s,a)=>({invalid:!!h((a||t).errors,s),isDirty:!!h((a||t).dirtyFields,s),error:h((a||t).errors,s),isValidating:!!h(t.validatingFields,s),isTouched:!!h((a||t).touchedFields,s)}),jt=s=>{s&&_e(s).forEach(a=>L(t.errors,a)),m.state.next({errors:s?t.errors:{}})},Ye=(s,a,l)=>{const y=(h(i,s,{_f:{}})._f||{}).ref,c=h(t.errors,s)||{},{ref:d,message:g,type:_,...S}=c;F(t.errors,s,{...S,...a,ref:y}),m.state.next({name:s,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&y&&y.focus&&y.focus()},Pt=(s,a)=>W(s)?m.state.subscribe({next:l=>s(b(void 0,a),l)}):b(s,a,!0),Xe=s=>m.state.subscribe({next:a=>{_r(s.name,a.name,s.exact)&&xr(a,s.formState||v,$t,s.reRenderRoot)&&s.callback({values:{...n},...t,...a})}}).unsubscribe,Ut=s=>(u.mount=!0,w={...w,...s.formState},Xe({...s,formState:w})),Me=(s,a={})=>{for(const l of s?_e(s):f.mount)f.mount.delete(l),f.array.delete(l),a.keepValue||(L(i,l),L(n,l)),!a.keepError&&L(t.errors,l),!a.keepDirty&&L(t.dirtyFields,l),!a.keepTouched&&L(t.touchedFields,l),!a.keepIsValidating&&L(t.validatingFields,l),!r.shouldUnregister&&!a.keepDefaultValue&&L(o,l);m.state.next({values:T(n)}),m.state.next({...t,...a.keepDirty?{isDirty:H()}:{}}),!a.keepIsValid&&C()},Ze=({disabled:s,name:a})=>{(Q(s)&&u.mount||s||f.disabled.has(a))&&(s?f.disabled.add(a):f.disabled.delete(a))},je=(s,a={})=>{let l=h(i,s);const y=Q(a.disabled)||Q(r.disabled);return F(i,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...a}}),f.mount.add(s),l?Ze({disabled:Q(a.disabled)?a.disabled:r.disabled,name:s}):K(s,!0,a.value),{...y?{disabled:a.disabled||r.disabled}:{},...r.progressive?{required:!!a.required,min:xe(a.min),max:xe(a.max),minLength:xe(a.minLength),maxLength:xe(a.maxLength),pattern:xe(a.pattern)}:{},name:s,onChange:z,onBlur:z,ref:c=>{if(c){je(s,a),l=h(i,s);const d=N(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,g=yr(d),_=l._f.refs||[];if(g?_.find(S=>S===d):d===l._f.ref)return;F(i,s,{_f:{...l._f,...g?{refs:[..._.filter(qe),d,...Array.isArray(h(o,s))?[{}]:[]],ref:{type:d.type,name:s}}:{ref:d}}}),K(s,!1,void 0,d)}else l=h(i,s,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(lr(f.array,s)&&u.action)&&f.unMount.add(s)}}},Ge=()=>r.shouldFocusError&&Ve(i,ve,f.mount),It=s=>{Q(s)&&(m.state.next({disabled:s}),Ve(i,(a,l)=>{const y=h(i,l);y&&(a.disabled=y._f.disabled||s,Array.isArray(y._f.refs)&&y._f.refs.forEach(c=>{c.disabled=y._f.disabled||s}))},0,!1))},et=(s,a)=>async l=>{let y;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let c=T(n);if(m.state.next({isSubmitting:!0}),r.resolver){const{errors:d,values:g}=await ie();t.errors=d,c=g}else await q(i);if(f.disabled.size)for(const d of f.disabled)F(c,d,void 0);if(L(t.errors,"root"),j(t.errors)){m.state.next({errors:{}});try{await s(c,l)}catch(d){y=d}}else a&&await a({...t.errors},l),Ge(),setTimeout(Ge);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:j(t.errors)&&!y,submitCount:t.submitCount+1,errors:t.errors}),y)throw y},Bt=(s,a={})=>{h(i,s)&&(N(a.defaultValue)?U(s,T(h(o,s))):(U(s,a.defaultValue),F(o,s,T(a.defaultValue))),a.keepTouched||L(t.touchedFields,s),a.keepDirty||(L(t.dirtyFields,s),t.isDirty=a.defaultValue?H(s,T(h(o,s))):H()),a.keepError||(L(t.errors,s),v.isValid&&C()),m.state.next({...t}))},tt=(s,a={})=>{const l=s?T(s):o,y=T(l),c=j(s),d=c?o:y;if(a.keepDefaultValues||(o=l),!a.keepValues){if(a.keepDirtyValues){const g=new Set([...f.mount,...Object.keys(be(o,n))]);for(const _ of Array.from(g))h(t.dirtyFields,_)?F(d,_,h(n,_)):U(_,h(d,_))}else{if(Ke&&N(s))for(const g of f.mount){const _=h(i,g);if(_&&_._f){const S=Array.isArray(_._f.refs)?_._f.refs[0]:_._f.ref;if(Oe(S)){const B=S.closest("form");if(B){B.reset();break}}}}for(const g of f.mount)U(g,h(d,g))}n=T(d),m.array.next({values:{...d}}),m.state.next({values:{...d}})}f={mount:a.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!v.isValid||!!a.keepIsValid||!!a.keepDirtyValues,u.watch=!!r.shouldUnregister,m.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:c?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!ne(s,o)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:c?{}:a.keepDirtyValues?a.keepDefaultValues&&n?be(o,n):t.dirtyFields:a.keepDefaultValues&&s?be(o,s):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},rt=(s,a)=>tt(W(s)?s(n):s,a),qt=(s,a={})=>{const l=h(i,s),y=l&&l._f;if(y){const c=y.refs?y.refs[0]:y.ref;c.focus&&(c.focus(),a.shouldSelect&&W(c.select)&&c.select())}},$t=s=>{t={...t,...s}},st={control:{register:je,unregister:Me,getFieldState:Qe,handleSubmit:et,setError:Ye,_subscribe:Xe,_runSchema:ie,_getWatch:b,_getDirty:H,_setValid:C,_setFieldArray:Le,_setDisabledField:Ze,_setErrors:Z,_getFieldArray:V,_reset:tt,_resetDefaultValues:()=>W(r.defaultValues)&&r.defaultValues().then(s=>{rt(s,r.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:ue,_disableForm:It,_subjects:m,_proxyFormState:v,get _fields(){return i},get _formValues(){return n},get _state(){return u},set _state(s){u=s},get _defaultValues(){return o},get _names(){return f},set _names(s){f=s},get _formState(){return t},get _options(){return r},set _options(s){r={...r,...s}}},subscribe:Ut,trigger:ce,register:je,handleSubmit:et,watch:Pt,setValue:U,getValues:we,reset:rt,resetField:Bt,clearErrors:jt,unregister:Me,setError:Ye,setFocus:qt,getFieldState:Qe};return{...st,formControl:st}}function Er(e={}){const r=J.useRef(void 0),t=J.useRef(void 0),[i,o]=J.useState({isDirty:!1,isValidating:!1,isLoading:W(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:W(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...e.formControl?e.formControl:Sr(e),formState:i},e.formControl&&e.defaultValues&&!W(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const n=r.current.control;return n._options=e,cr(()=>{const u=n._subscribe({formState:n._proxyFormState,callback:()=>o({...n._formState}),reRenderRoot:!0});return o(f=>({...f,isReady:!0})),n._formState.isReady=!0,u},[n]),J.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),J.useEffect(()=>{e.mode&&(n._options.mode=e.mode),e.reValidateMode&&(n._options.reValidateMode=e.reValidateMode),e.errors&&!j(e.errors)&&n._setErrors(e.errors)},[n,e.errors,e.mode,e.reValidateMode]),J.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,e.shouldUnregister]),J.useEffect(()=>{if(n._proxyFormState.isDirty){const u=n._getDirty();u!==i.isDirty&&n._subjects.state.next({isDirty:u})}},[n,i.isDirty]),J.useEffect(()=>{e.values&&!ne(e.values,t.current)?(n._reset(e.values,n._options.resetOptions),t.current=e.values,o(u=>({...u}))):n._resetDefaultValues()},[n,e.values]),J.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),r.current.formState=dr(i,n),r.current}const _t=(e,r,t)=>{if(e&&"reportValidity"in e){const i=h(t,r);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},Lt=(e,r)=>{for(const t in r.fields){const i=r.fields[t];i&&i.ref&&"reportValidity"in i.ref?_t(i.ref,t,e):i&&i.refs&&i.refs.forEach(o=>_t(o,t,e))}},Dr=(e,r)=>{r.shouldUseNativeValidation&&Lt(e,r);const t={};for(const i in e){const o=h(r.fields,i),n=Object.assign(e[i]||{},{ref:o&&o.ref});if(kr(r.names||Object.keys(e),i)){const u=Object.assign({},h(t,i));F(u,"root",n),F(t,i,u)}else F(t,i,n)}return t},kr=(e,r)=>{const t=Vt(r);return e.some(i=>Vt(i).match(`^${t}\\.\\d+`))};function Vt(e){return e.replace(/\]|\[/g,"")}function pr(e,r){for(var t={};e.length;){var i=e[0],o=i.code,n=i.message,u=i.path.join(".");if(!t[u])if("unionErrors"in i){var f=i.unionErrors[0].errors[0];t[u]={message:f.message,type:f.code}}else t[u]={message:n,type:o};if("unionErrors"in i&&i.unionErrors.forEach(function(v){return v.errors.forEach(function(w){return e.push(w)})}),r){var A=t[u].types,O=A&&A[i.code];t[u]=Dt(u,r,t,o,O?[].concat(O,i.message):i.message)}e.shift()}return t}function Or(e,r,t){return t===void 0&&(t={}),function(i,o,n){try{return Promise.resolve(function(u,f){try{var A=Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](i,r)).then(function(O){return n.shouldUseNativeValidation&&Lt({},n),{errors:{},values:t.raw?Object.assign({},i):O}})}catch(O){return f(O)}return A&&A.then?A.then(void 0,f):A}(0,function(u){if(function(f){return Array.isArray(f==null?void 0:f.errors)}(u))return{values:{},errors:Dr(pr(u.errors,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw u}))}catch(u){return Promise.reject(u)}}}var Nr="Label",Tt=Y.forwardRef((e,r)=>k.jsx(Gt.label,{...e,ref:r,onMouseDown:t=>{var o;t.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Tt.displayName=Nr;var Mt=Tt;const Cr=er("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ke=Y.forwardRef(({className:e,...r},t)=>k.jsx(Mt,{ref:t,className:wt(Cr(),e),...r}));ke.displayName=Mt.displayName;const pe=Y.forwardRef(({className:e,type:r,...t},i)=>k.jsx("input",{type:r,className:wt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...t}));pe.displayName="Input";const Rr="https://sit.nebula.psi.edu";async function Lr(e){const r=await tr(),t=await fetch(`${Rr}/api/onboarding`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(e)});if(!t.ok)throw await t.json()}const Tr=sr({firstName:Be().min(1,"First name is required"),lastName:Be().min(1,"Last name is required"),email:Be().email("Valid email is required")}),Ur=function(){const{register:r,handleSubmit:t,setError:i,formState:{errors:o}}=Er({resolver:Or(Tr)}),n=ar({mutationFn:async u=>{const f={...u,fullName:`${u.firstName} ${u.lastName}`,status:"PreEmployment"};await Lr(f)},onError:u=>{if(u!=null&&u.errors)for(const[f,A]of Object.entries(u.errors))i(f,{message:A[0]})}});return k.jsxs("div",{className:"max-w-md mx-auto mt-10 space-y-6",children:[k.jsx("h2",{className:"text-2xl font-semibold",children:"IT Onboarding Intake"}),k.jsxs("form",{onSubmit:t(u=>{n.mutate(u)}),className:"space-y-4",children:[k.jsxs("div",{children:[k.jsx(ke,{htmlFor:"firstName",children:"First Name"}),k.jsx(pe,{id:"firstName",...r("firstName")}),o.firstName&&k.jsx("p",{className:"text-red-500 text-sm",children:o.firstName.message})]}),k.jsxs("div",{children:[k.jsx(ke,{htmlFor:"lastName",children:"Last Name"}),k.jsx(pe,{id:"lastName",...r("lastName")}),o.lastName&&k.jsx("p",{className:"text-red-500 text-sm",children:o.lastName.message})]}),k.jsxs("div",{children:[k.jsx(ke,{htmlFor:"email",children:"Email"}),k.jsx(pe,{id:"email",type:"email",...r("email")}),o.email&&k.jsx("p",{className:"text-red-500 text-sm",children:o.email.message})]}),k.jsx(rr,{type:"submit",disabled:n.isPending,children:n.isPending?"Submitting...":"Start Onboarding"}),n.isSuccess&&k.jsx("p",{className:"text-green-600",children:"Submitted successfully!"}),n.isError&&!Object.keys(o).length&&k.jsx("p",{className:"text-red-600",children:"Submission failed. Please check the form."})]})]})};export{Ur as component};
